"use strict";var $,Lightbox;$=jQuery,Lightbox={images:{},options:{},modal:null,modal_title:null,modal_container:null,modal_setTitle:function(t){null!=t?this.modal.find(".modal-title").show().text(t):this.modal.find(".modal-title").hide()},_bind:function(t){return t.click(function(t){return t.preventDefault(),Lightbox._open(this)}),this},_bindGallery:function(){var t;return t=this.images,this.modal.find(".modal-switcher a").click(function(i){var a,l,e,n,o,s,d;for(i.preventDefault(),n=$(this),a=null,s=0,d=t.length;d>s;s++)o=t[s],$(o).hasClass("active")===!0&&(a=$(o));l=t.next(),e=t.prev(),l.hasClass("active")===!0&&(l=t.first()),e.hasClass("active")===!0&&(e=t.last()),n.is(".pull-left")?null!=a&&(a.removeClass("active").fadeOut(250,function(){return e.addClass("active").fadeIn(250)}),Lightbox.modal_setTitle(e.attr("title"))):null!=a&&(a.removeClass("active").fadeOut(250,function(){return l.addClass("active").fadeIn(250)}),Lightbox.modal_setTitle(l.attr("title")))}),this},_unbindGallery:function(){return this.modal.find(".modal-switcher a").unbind("click").off(),this},_create:function(t,i){return this._setOptions(i),this},_open:function(t){return this._hasGallery(t)===!0?this._makeGallery(t):this._makeSingle(t),this},_makeSingle:function(t){var i,a,l;return this._unbindGallery(),t=$(t),a=t.attr("href"),l=t.data("title"),this.modal.find(".modal-switcher").hide(),this.modal_setTitle(l),i=$("<img/>",{src:a,title:l,alt:"",width:"100%"}),this.modal.find(".modal-images").empty().append(i),this.modal.modal("show"),this},_makeGallery:function(t){var i,a,l,e,n,o,s,d,h;for(t=$(t),o=t.attr("href"),s=t.data("title"),this.modal_setTitle(s),i=t.data("gallery"),l=$('[data-gallery="'+i+'"]'),this.modal.find(".modal-images").empty(),d=0,h=l.length;h>d;d++)a=l[d],a=$(a),n=a.attr("href"),s=a.data("title"),e=$("<img/>",{src:n,title:s,alt:"",width:"100%","class":n===o?"active":void 0}),this.modal.find(".modal-images").append(e);return l=this.modal.find("img"),l.not(".active").hide(),this.modal.find(".modal-switcher").show(),this.images=l,this._bindGallery(),this.modal.modal("show"),this},_hasGallery:function(t){var i,a;return a=$(t).data("gallery"),void 0===a?!1:(i=$('*[data-gallery="'+a+'"]'),i.length>1?!0:!1)},_setOptions:function(t){return this.options=$.extend({title:null,source:null},$.fn.bsLightbox.defaults,t||{}),this},_makeModal:function(){var t;return t='<div class="lightbox-modal modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header">',t+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>',t+='<h4 class="modal-title">title</h4>',t+='</div><div class="modal-body">',t+='<div class="modal-images"></div><div class="modal-switcher">',t+='<a href="#" class="pull-left"><i class="glyphicon glyphicon-chevron-left"></i></a>',t+='<a href="#" class="pull-right"><i class="glyphicon glyphicon-chevron-right"></i></a>',t+="</div>",t+="</div></div></div></div>",this.modal=$(t),$("body").append(this.modal),this.modal.modal({show:!1,keyboard:!0}),this.modal}},Lightbox._makeModal(),$.fn.bsLightbox=function(t){return this.each(function(){var i;return i=$(this),t=$.extend({source:i.attr("href"),type:i.attr("data-type")},t,i.data()),Lightbox._create(this,t),Lightbox._bind(i),this})},$.fn.bsLightbox.defaults={gallery_parent_selector:"*:not(.row)",left_arrow_class:".glyphicon .glyphicon-chevron-left",right_arrow_class:".glyphicon .glyphicon-chevron-right",type:null,onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){}},$('*[data-toggle="lightbox"]').each(function(t,i){$(i).bsLightbox()});